describe('create trigger', function() {

  it('basic create trigger 1', function(done) {
    var resultTree = '{"statement":[{"explain":false,"type":"statement","when":{"type":"expression","format":"unary","variant":"operation","expression":{"type":"identifier","variant":"column","name":"cust_addr"},"operation":"not null"},"target":{"type":"identifier","variant":"trigger","name":"cust_addr_chng"},"on":"customer_address","condition":[],"event":{"type":"event","occurs":"instead of","event":"update","of":[{"type":"identifier","variant":"column","name":"cust_addr"}]},"by":"row","action":[{"explain":false,"type":"statement","variant":"update","into":{"type":"identifier","variant":"table","name":"customer","alias":null,"index":null},"where":[{"type":"expression","format":"binary","variant":"operation","operation":"=","left":{"type":"identifier","variant":"column","name":"cust_id"},"right":{"type":"identifier","variant":"column","name":"new.cust_id"}}],"set":[{"type":"assignment","target":{"type":"identifier","variant":"column","name":"cust_addr"},"value":{"type":"identifier","variant":"column","name":"new.cust_addr"}}],"order":null,"limit":null,"with":null}],"temporary":false,"variant":"create","format":"trigger"}]}';
    tree.equals(resultTree, this, done);
  });

  it('basic create trigger 2', function(done) {
    var resultTree = '{"statement":[{"explain":false,"type":"statement","when":{"type":"expression","format":"binary","variant":"operation","operation":"==","left":{"type":"identifier","variant":"column","name":"name"},"right":{"type":"literal","variant":"string","value":"Nick"}},"target":{"type":"identifier","variant":"trigger","name":"happy_bee_time"},"on":"bees","condition":[{"type":"condition","condition":"if not exists"}],"event":{"type":"event","occurs":"before","event":"delete"},"by":"row","action":[{"explain":false,"type":"statement","variant":"insert","into":{"type":"identifier","variant":"expression","format":"table","name":"hive","columns":[{"type":"identifier","variant":"column","name":"id"},{"type":"identifier","variant":"column","name":"name"}]},"action":"insert","or":null,"result":[{"type":"values","variant":"list","values":[{"type":"literal","variant":"decimal","value":"4"},{"type":"literal","variant":"string","value":"A Better Hive"}]}],"with":null},{"explain":false,"type":"statement","variant":"insert","into":{"type":"identifier","variant":"expression","format":"table","name":"bees","columns":[{"type":"identifier","variant":"column","name":"name"},{"type":"identifier","variant":"column","name":"color"},{"type":"identifier","variant":"column","name":"hive_id"}]},"action":"insert","or":null,"result":[{"type":"values","variant":"list","values":[{"type":"literal","variant":"string","value":"New Nick"},{"type":"literal","variant":"string","value":"purple"},{"type":"literal","variant":"decimal","value":"4"}]}],"with":null}],"temporary":true,"variant":"create","format":"trigger"}]}';
    tree.equals(resultTree, this, done);
  });

});
